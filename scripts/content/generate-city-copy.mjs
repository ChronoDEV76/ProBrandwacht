#!/usr/bin/env node
import { writeFileSync } from "node:fs";
import { resolve } from "node:path";

// Frontstage city copy generator (duiding, rolhelderheid, context)
const cities = [
  { slug: "amsterdam", name: "Amsterdam" },
  { slug: "rotterdam", name: "Rotterdam" },
  { slug: "den-haag", name: "Den Haag" },
  { slug: "utrecht", name: "Utrecht" },
  { slug: "eindhoven", name: "Eindhoven" },
  { slug: "tilburg", name: "Tilburg" },
  { slug: "groningen", name: "Groningen" },
  { slug: "almere", name: "Almere" },
  { slug: "breda", name: "Breda" },
  { slug: "nijmegen", name: "Nijmegen" },
];

function buildCityCopy({ slug, name }) {
  return {
    slug,
    name,
    metaTitle: `Brandwacht-inzet in ${name}: verantwoordelijkheden en context | ProBrandwacht`,
    metaDescription:
      `Onafhankelijke uitleg over brandwacht-inzet in ${name}. ` +
      `Wat is verplicht, wie is verantwoordelijk en waar let je op in de praktijk?`,
    h1: `Brandwacht-inzet in ${name}: context en verantwoordelijkheden`,
    intro:
      `Publieke werkkaart voor ${name}. ProBrandwacht duidt hoe brandwacht-inzet ` +
      `uitlegbaar blijft — onafhankelijke duiding en rolhelderheid in de praktijk.`,
    body: `## Afspraken vooraf in ${name}

- **Scope en rol**: wat bewaak je precies, en wat valt er buiten?
- **Beslislijnen**: wie beslist bij wijziging, stop of escalatie?
- **Randvoorwaarden**: toegang, middelen, rapportage en overdracht.

## Lokale context

Elke stad heeft eigen fricties: bereikbaarheid, type locaties en werkritme. Deze werkkaart helpt
om die context expliciet te maken vóórdat er afspraken worden gemaakt.

## Afbakening

- **Rol**: uitleg, context en afbakening van rollen en verwachtingen.
- **Samenwerking**: afspraken tussen opdrachtgever en professional, contextafhankelijk.
- **Keuzes**: besluitvorming blijft bij de betrokken partijen.

## Samenwerking in de praktijk

Afspraken worden 1-op-1 gemaakt en blijven contextafhankelijk. ProBrandwacht beschrijft wat
uitlegbaar samenwerken vraagt, en laat de keuzes bij de betrokken partijen.

## Vragen om vooraf te stellen

- Welke signalen betekenen: pauzeren, stoppen, opschalen?
- Welke documentatie moet later uitlegbaar zijn?
- Wat is de rol van opdrachtgever en professional op locatie?`,
    localCaseTitle: `Voorbeeld: context in ${name}`,
    localCaseBody:
      `Een opdrachtgever en professional hebben vooraf rol, bereikbaarheid en escalatie afgesproken. ` +
      `ProBrandwacht beschrijft zulke kaders; uitvoering en afspraken blijven bij de betrokken partijen.`,
  };
}

const cityCopyData = Object.fromEntries(
  cities.map((city) => [city.slug, buildCityCopy(city)])
);

const header = `// AUTO-GENERATED BY scripts/content/generate-city-copy.mjs
// City-specific frontstage copy for werkkaarten.
// Pas gerust handmatig aan als je wilt fine-tunen.

export type CityCopy = {
  slug: string;
  name: string;
  metaTitle: string;
  metaDescription: string;
  h1: string;
  intro: string;
  body: string;
  localCaseTitle: string;
  localCaseBody: string;
};

export const cityCopy: Record<string, CityCopy> = `;

const fileContent =
  header + JSON.stringify(cityCopyData, null, 2) + ";\n";

const targetPath = resolve(process.cwd(), "lib", "city-copy.base.ts");
writeFileSync(targetPath, fileContent, "utf8");
console.log("✅ lib/city-copy.base.ts gegenereerd op", targetPath);
console.log("ℹ️  Let op: lib/city-copy.ts is handmatig beheerd en wordt niet overschreven.");
